<!DOCTYPE HTML>
<html>
    <head>
       <title>Timilehin | Security Portfolio</title>
       <meta charset="utf-8" />
       <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
       <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
       <noscript><link rel="stylesheet" href="{{ url_for('static', filename='css/noscript.css') }}" /></noscript>

       <style>
           /* Custom overrides */
           .terminal-box {
               margin-top: 2rem; padding: 10px; background-color: rgba(0, 0, 0, 0.6);
               border: 1px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace;
               font-size: 0.8rem; display: inline-block; border-radius: 4px;
           }
           .blinking-cursor { animation: blink 1s step-end infinite; }
           @keyframes blink { 50% { opacity: 0; } }

           /* Matrix Canvas */
           canvas#matrix-bg {
                position: fixed; top: 0; left: 0; z-index: -1;
                width: 100%; height: 100%; opacity: 0.8;
           }
           #bg { display: none !important; }
       </style>
    </head>
    <body class="is-preload">
       <canvas id="matrix-bg"></canvas>

       <div id="wrapper">
             <header id="header">
                <div class="logo">
                   <span class="icon fa-shield-alt"></span>
                </div>
                <div class="content">
                   <div class="inner">
                      <h1>Timilehin Oyinlola</h1>
                      <p>I am <span id="typed-text" style="color: #fff; font-weight: bold;"></span></p>
                   </div>
                </div>
                <nav>
                   <ul>
                      <li><a href="#intro">Intro</a></li>
                      <li><a href="#experience">Experience</a></li> <li><a href="#work">Work</a></li>
                      <li><a href="#about">About</a></li>
                      <li><a href="#contact">Contact</a></li>
                   </ul>
                </nav>

                <div class="terminal-box">
                    <span class="icon fa-laptop-code"></span> SECURITY MONITOR<br>
                    VISITOR IP: {{ ip }} <span class="blinking-cursor">_</span>
                </div>
             </header>

             <div id="main">
                <article id="intro">
                   <h2 class="major">{{ greeting }}, {{ sections['intro'].title }}</h2>

                   {% if current_user.is_authenticated %}
                       <a href="{{ url_for('edit_section', section_name='intro') }}" style="color: yellow; border: 1px solid yellow; padding: 5px;">[EDIT THIS]</a>
                   {% endif %}

                   <span class="image main"><img src="{{ url_for('static', filename='images/me.jpg') }}" alt="" /></span>
                   <p>{{ sections['intro'].content }}</p>
                </article>

                <article id="experience">
                    <h2 class="major">Work Experience</h2>

                    {% if current_user.is_authenticated %}
                        <a href="{{ url_for('add_experience') }}" class="button small primary"> + Add Job</a>
                        <hr>
                    {% endif %}

                    {% for job in experiences %}
                        <div style="margin-bottom: 2rem; border-left: 4px solid #ffffff; padding-left: 20px;">
                            <h3 style="margin-bottom: 5px;">{{ job.role }}</h3>
                            <span style="color: #aaa; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px;">{{ job.company }} &bull; {{ job.duration }}</span>
                            <p style="margin-top: 15px;">{{ job.description }}</p>
                        </div>
                    {% else %}
                        <p>No experience added yet.</p>
                    {% endfor %}
                </article>

                <article id="work">
                      <h2 class="major">Work</h2>

                      {% if current_user.is_authenticated %}
                          <a href="{{ url_for('add_project') }}" class="button small primary"> + Add Project</a>
                          <hr>
                      {% endif %}

                      {% for project in projects %}
                      <h3>{{ project.title }}</h3>
                      <span class="image main"><img src="{{ url_for('static', filename='uploads/' + project.img_url) }}" alt="" /></span>
                      <p>{{ project.description }}</p>

                      <a href="{{ project.link }}" target="_blank" class="button icon brands fa-github">View Code</a>
                      <hr />
                      {% endfor %}
                </article>

                <article id="about">
                      <h2 class="major">{{ sections['about'].title }}</h2>
                      {% if current_user.is_authenticated %}
                          <a href="{{ url_for('edit_section', section_name='about') }}" style="color: yellow; border: 1px solid yellow; padding: 5px;">[EDIT THIS]</a>
                      {% endif %}
                      <span class="image main"><img src="{{ url_for('static', filename='images/' + sections['about'].image) }}" alt="" /></span>
                      <p>{{ sections['about'].content }}</p>
                </article>

                <article id="contact">
                      <h2 class="major">Contact</h2>
                      <form method="post" action="{{ url_for('contact') }}">
                         <div class="fields">
                            <div class="field half">
                               <label for="name">Name</label>
                               <input type="text" name="name" id="name" required />
                            </div>
                            <div class="field half">
                               <label for="email">Email</label>
                               <input type="email" name="email" id="email" required />
                            </div>
                            <div class="field">
                               <label for="message">Message</label>
                               <textarea name="message" id="message" rows="4" required></textarea>
                            </div>
                         </div>
                         <ul class="actions">
                            <li><input type="submit" value="Send Message" class="primary" /></li>
                         </ul>
                      </form>

                      <ul class="icons">
                        <li><a href="hhttps://www.linkedin.com/in/timilehin-oyinlola-228296317?" class="icon brands fa-linkedin-in"><span class="label">LinkedIn</span></a></li>
                        <li><a href="https://github.com/Timskid11" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
                        <li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
                     </ul>
                </article>
             </div>

             <footer id="footer">
                <p class="copyright">&copy; Built with Python & Flask.</p>
             </footer>
       </div>

       <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
       <script src="{{ url_for('static', filename='js/browser.min.js') }}"></script>
       <script src="{{ url_for('static', filename='js/breakpoints.min.js') }}"></script>
       <script src="{{ url_for('static', filename='js/util.js') }}"></script>
       <script src="{{ url_for('static', filename='js/main.js') }}"></script>

       <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
       <script>
            var typed = new Typed('#typed-text', {
                strings: ["a Python Developer.", "an AI Enthusiast.", "a Security Engineer.", "Timilehin Oyinlola."],
                typeSpeed: 50, backSpeed: 30, loop: true
            });

            // Matrix Rain Effect
            const canvas = document.getElementById('matrix-bg');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            const chars = "0101010101ABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%^&*";
            const charArray = chars.split("");
            const fontSize = 14;
            const columns = canvas.width / fontSize;
            const drops = [];
            for (let i = 0; i < columns; i++) { drops[i] = 1; }
            function drawMatrix() {
                ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "#0F0";
                ctx.font = fontSize + "px monospace";
                for (let i = 0; i < drops.length; i++) {
                    const text = charArray[Math.floor(Math.random() * charArray.length)];
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) { drops[i] = 0; }
                    drops[i]++;
                }
            }
            setInterval(drawMatrix, 33);
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
       </script>
    </body>
</html>